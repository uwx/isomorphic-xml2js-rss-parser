{"version":3,"file":"dist/rss-parser.min.js","mappings":"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","sources":["webpack://RSSParser/webpack/universalModuleDefinition","webpack://RSSParser/./index.js","webpack://RSSParser/./lib/fields.js","webpack://RSSParser/./lib/parser.js","webpack://RSSParser/./lib/utils.js","webpack://RSSParser/./node_modules/.pnpm/entities@2.2.0/node_modules/entities/lib/decode.js","webpack://RSSParser/./node_modules/.pnpm/entities@2.2.0/node_modules/entities/lib/decode_codepoint.js","webpack://RSSParser/./node_modules/.pnpm/entities@2.2.0/node_modules/entities/lib/encode.js","webpack://RSSParser/./node_modules/.pnpm/entities@2.2.0/node_modules/entities/lib/index.js","webpack://RSSParser/./node_modules/.pnpm/isomorphic-xml2js@0.1.3/node_modules/isomorphic-xml2js/dist/lib/options.js","webpack://RSSParser/./node_modules/.pnpm/isomorphic-xml2js@0.1.3/node_modules/isomorphic-xml2js/dist/lib/parser.js","webpack://RSSParser/./node_modules/.pnpm/isomorphic-xml2js@0.1.3/node_modules/isomorphic-xml2js/dist/lib/builder.js","webpack://RSSParser/webpack/bootstrap","webpack://RSSParser/webpack/runtime/define property getters","webpack://RSSParser/webpack/runtime/hasOwnProperty shorthand","webpack://RSSParser/webpack/runtime/make namespace object","webpack://RSSParser/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RSSParser\"] = factory();\n\telse\n\t\troot[\"RSSParser\"] = factory();\n})(this, () => {\nreturn ","'use strict';\n\nmodule.exports = require('./lib/parser');\n\n","const fields = module.exports = {};\n\nfields.feed = [\n  ['author', 'creator'],\n  ['dc:publisher', 'publisher'],\n  ['dc:creator', 'creator'],\n  ['dc:source', 'source'],\n  ['dc:title', 'title'],\n  ['dc:type', 'type'],\n  'title',\n  'description',\n  'author',\n  'pubDate',\n  'webMaster',\n  'managingEditor',\n  'generator',\n  'link',\n  'language',\n  'copyright',\n  'lastBuildDate',\n  'docs',\n  'generator',\n  'ttl',\n  'rating',\n  'skipHours',\n  'skipDays',\n];\n\nfields.item = [\n  ['author', 'creator'],\n  ['dc:creator', 'creator'],\n  ['dc:date', 'date'],\n  ['dc:language', 'language'],\n  ['dc:rights', 'rights'],\n  ['dc:source', 'source'],\n  ['dc:title', 'title'],\n  'title',\n  'link',\n  'pubDate',\n  'author',\n  'summary',\n  ['content:encoded', 'content:encoded', {includeSnippet: true}],\n  'enclosure',\n  'dc:creator',\n  'dc:date',\n  'comments',\n];\n\nvar mapItunesField = function(f) {\n  return ['itunes:' + f, f];\n}\n\nfields.podcastFeed = ([\n  'author',\n  'subtitle',\n  'summary',\n  'explicit'\n]).map(mapItunesField);\n\nfields.podcastItem = ([\n  'author',\n  'subtitle',\n  'summary',\n  'explicit',\n  'duration',\n  'image',\n  'episode',\n  'image',\n  'season',\n  'keywords',\n  'episodeType'\n]).map(mapItunesField);\n\n","\"use strict\";\nconst http = require('http');\nconst https = require('https');\nconst xml2js = require('isomorphic-xml2js');\nconst url = require('url');\n\nconst fields = require('./fields');\nconst utils = require('./utils');\n\nconst DEFAULT_HEADERS = {\n  'User-Agent': 'rss-parser',\n  'Accept': 'application/rss+xml',\n}\nconst DEFAULT_MAX_REDIRECTS = 5;\nconst DEFAULT_TIMEOUT = 60000;\n\nclass Parser {\n  constructor(options={}) {\n    options.headers = options.headers || {};\n    options.xml2js = options.xml2js || {};\n    options.customFields = options.customFields || {};\n    options.customFields.item = options.customFields.item || [];\n    options.customFields.feed = options.customFields.feed || [];\n    options.requestOptions = options.requestOptions || {};\n    if (!options.maxRedirects) options.maxRedirects = DEFAULT_MAX_REDIRECTS;\n    if (!options.timeout) options.timeout = DEFAULT_TIMEOUT;\n    this.options = options;\n    this.xmlParser = new xml2js.Parser(this.options.xml2js);\n    this.etags = {};\n    this.lastModified = {};\n  }\n\n  parseString(xml, callback) {\n    let prom = new Promise((resolve, reject) => {\n      this.xmlParser.parseString(xml, (err, result) => {\n        if (err) return reject(err);\n        if (!result) {\n          return reject(new Error('Unable to parse XML.'));\n        }\n        let feed = null;\n        if (result.feed) {\n          feed = this.buildAtomFeed(result);\n        } else if (result.rss && result.rss.$ && result.rss.$.version && result.rss.$.version.match(/^2/)) {\n          feed = this.buildRSS2(result);\n        } else if (result['rdf:RDF']) {\n          feed = this.buildRSS1(result);\n        } else if (result.rss && result.rss.$ && result.rss.$.version && result.rss.$.version.match(/0\\.9/)) {\n          feed = this.buildRSS0_9(result);\n        } else if (result.rss && this.options.defaultRSS) {\n          switch(this.options.defaultRSS) {\n            case 0.9:\n              feed = this.buildRSS0_9(result);\n              break;\n            case 1:\n              feed = this.buildRSS1(result);\n              break;\n            case 2:\n              feed = this.buildRSS2(result);\n              break;\n            default:\n              return reject(new Error(\"default RSS version not recognized.\"))\n          }\n        } else {\n          return reject(new Error(\"Feed not recognized as RSS 1 or 2.\"))\n        }\n        resolve(feed);\n      });\n    });\n    prom = utils.maybePromisify(callback, prom);\n    return prom;\n  }\n\n  parseURL(feedUrl, callback, redirectCount=0) {\n    let xml = '';\n    let get = feedUrl.indexOf('https') === 0 ? https.get : http.get;\n    let urlParts = url.parse(feedUrl);\n    let headers = Object.assign({}, DEFAULT_HEADERS, this.options.headers);\n    if (this.etags[feedUrl]) {\n      headers['If-None-Match'] = this.etags[feedUrl];\n    }\n    if (this.lastModified[feedUrl]) {\n      headers['If-Modified-Since'] = this.lastModified[feedUrl];\n    }\n    let timeout = null;\n    let prom = new Promise((resolve, reject) => {\n      const requestOpts = Object.assign({headers}, urlParts, this.options.requestOptions);\n      let req = get(requestOpts, (res) => {\n        if (this.options.maxRedirects && res.statusCode >= 300 && res.statusCode < 400 && res.headers['location']) {\n          if (redirectCount === this.options.maxRedirects) {\n            return reject(new Error(\"Too many redirects\"));\n          } else {\n            const newLocation = url.resolve(feedUrl, res.headers['location']);\n            return this.parseURL(newLocation, null, redirectCount + 1).then(resolve, reject);\n          }\n        } else if (res.statusCode === 304) {\n          return resolve(null);\n        }\n        else if (res.statusCode >= 300) {\n          return reject(new Error(\"Status code \" + res.statusCode));\n        }\n\n        if (res.headers['etag']) {\n          this.etags[feedUrl] = res.headers['etag'];\n        }\n\n        if (res.headers['last-modified']) {\n          this.lastModified[feedUrl] = res.headers['last-modified'];\n        }\n\n        let encoding = utils.getEncodingFromContentType(res.headers['content-type']);\n        res.setEncoding(encoding);\n        res.on('data', (chunk) => {\n          xml += chunk;\n        });\n        res.on('end', () => {\n          return this.parseString(xml).then(resolve, reject);\n        });\n      })\n      req.on('error', reject);\n      timeout = setTimeout(() => {\n        let err = new Error(\"Request timed out after \" + this.options.timeout + \"ms\");\n        req.destroy(err);\n        reject(err);\n      }, this.options.timeout);\n    }).then(data => {\n      clearTimeout(timeout);\n      return Promise.resolve(data);\n    }, e => {\n      clearTimeout(timeout);\n      return Promise.reject(e);\n    });\n    prom = utils.maybePromisify(callback, prom);\n    return prom;\n  }\n\n  buildAtomFeed(xmlObj) {\n    let feed = {items: []};\n    utils.copyFromXML(xmlObj.feed, feed, this.options.customFields.feed);\n    if (xmlObj.feed.link) {\n      feed.link = utils.getLink(xmlObj.feed.link, 'alternate', 0);\n      feed.feedUrl = utils.getLink(xmlObj.feed.link, 'self', 1);\n    }\n    if (xmlObj.feed.title) {\n      let title = xmlObj.feed.title[0] || '';\n      if (title._) title = title._\n      if (title) feed.title = title;\n    }\n    if (xmlObj.feed.updated) {\n      feed.lastBuildDate = xmlObj.feed.updated[0];\n    }\n    feed.items = (xmlObj.feed.entry || []).map(entry => this.parseItemAtom(entry));\n    return feed;\n  }\n\n  parseItemAtom(entry) {\n    let item = {};\n    utils.copyFromXML(entry, item, this.options.customFields.item);\n    if (entry.title) {\n      let title = entry.title[0] || '';\n      if (title._) title = title._;\n      if (title) item.title = title;\n    }\n    if (entry.link && entry.link.length) {\n      item.link = utils.getLink(entry.link, 'alternate', 0);\n    }\n    if (entry.published && entry.published.length && entry.published[0].length) item.pubDate = new Date(entry.published[0]).toISOString();\n    if (!item.pubDate && entry.updated && entry.updated.length && entry.updated[0].length) item.pubDate = new Date(entry.updated[0]).toISOString();\n    if (entry.author && entry.author.length && entry.author[0].name && entry.author[0].name.length) item.author = entry.author[0].name[0];\n    if (entry.content && entry.content.length) {\n      item.content = utils.getContent(entry.content[0]);\n      item.contentSnippet = utils.getSnippet(item.content)\n    }\n    if (entry.summary && entry.summary.length) {\n      item.summary = utils.getContent(entry.summary[0]);\n    }\n    if (entry.id) {\n      item.id = entry.id[0];\n    }\n    this.setISODate(item);\n    return item;\n  }\n\n  buildRSS0_9(xmlObj) {\n    var channel = xmlObj.rss.channel[0];\n    var items = channel.item;\n    return this.buildRSS(channel, items);\n  }\n\n  buildRSS1(xmlObj) {\n    xmlObj = xmlObj['rdf:RDF'];\n    let channel = xmlObj.channel[0];\n    let items = xmlObj.item;\n    return this.buildRSS(channel, items);\n  }\n\n  buildRSS2(xmlObj) {\n    let channel = xmlObj.rss.channel[0];\n    let items = channel.item;\n    let feed = this.buildRSS(channel, items);\n    if (xmlObj.rss.$ && xmlObj.rss.$['xmlns:itunes']) {\n      this.decorateItunes(feed, channel);\n    }\n    return feed;\n  }\n\n  buildRSS(channel, items) {\n    items = items || [];\n    let feed = {items: []};\n    let feedFields = fields.feed.concat(this.options.customFields.feed);\n    let itemFields = fields.item.concat(this.options.customFields.item);\n    if (channel['atom:link'] && channel['atom:link'][0] && channel['atom:link'][0].$) {\n      feed.feedUrl = channel['atom:link'][0].$.href;\n    }\n    if (channel.image && channel.image[0] && channel.image[0].url) {\n      feed.image = {};\n      let image = channel.image[0];\n      if (image.link) feed.image.link = image.link[0];\n      if (image.url) feed.image.url = image.url[0];\n      if (image.title) feed.image.title = image.title[0];\n      if (image.width) feed.image.width = image.width[0];\n      if (image.height) feed.image.height = image.height[0];\n    }\n    const paginationLinks = this.generatePaginationLinks(channel);\n    if (Object.keys(paginationLinks).length) {\n      feed.paginationLinks = paginationLinks;\n    }\n    utils.copyFromXML(channel, feed, feedFields);\n    feed.items = items.map(xmlItem => this.parseItemRss(xmlItem, itemFields));\n    return feed;\n  }\n\n  parseItemRss(xmlItem, itemFields) {\n    let item = {};\n    utils.copyFromXML(xmlItem, item, itemFields);\n    if (xmlItem.enclosure) {\n      item.enclosure = xmlItem.enclosure[0].$;\n    }\n    if (xmlItem.description) {\n      item.content = utils.getContent(xmlItem.description[0]);\n      item.contentSnippet = utils.getSnippet(item.content);\n    }\n    if (xmlItem.guid) {\n      item.guid = xmlItem.guid[0];\n      if (item.guid._) item.guid = item.guid._;\n    }\n    if (xmlItem.$ && xmlItem.$['rdf:about']) {\n      item['rdf:about'] = xmlItem.$['rdf:about']\n    }\n    if (xmlItem.category) item.categories = xmlItem.category;\n\n    var mediaContent = xmlItem['media:content']?.[0]?.$ ?? null;\n    if(mediaContent) item.mediaContent = mediaContent;\n    \n    this.setISODate(item);\n    return item;\n  }\n\n  /**\n   * Add iTunes specific fields from XML to extracted JSON\n   *\n   * @access public\n   * @param {object} feed extracted\n   * @param {object} channel parsed XML\n   */\n  decorateItunes(feed, channel) {\n    let items = channel.item || [];\n    let categories = [];\n    feed.itunes = {}\n\n    if (channel['itunes:owner']) {\n      let owner = {};\n\n      if(channel['itunes:owner'][0]['itunes:name']) {\n        owner.name = channel['itunes:owner'][0]['itunes:name'][0];\n      }\n      if(channel['itunes:owner'][0]['itunes:email']) {\n        owner.email = channel['itunes:owner'][0]['itunes:email'][0];\n      }\n      feed.itunes.owner = owner;\n    }\n\n    if (channel['itunes:image']) {\n      let image;\n      let hasImageHref = (channel['itunes:image'][0] &&\n        channel['itunes:image'][0].$ &&\n        channel['itunes:image'][0].$.href);\n      image = hasImageHref ? channel['itunes:image'][0].$.href : null;\n      if (image) {\n        feed.itunes.image = image;\n      }\n    }\n\n    if (channel['itunes:category']) {\n      const categoriesWithSubs = channel['itunes:category'].map((category) => {\n        return {\n          name: category && category.$ && category.$.text,\n          subs: category['itunes:category'] ?\n            category['itunes:category']\n              .map((subcategory) => ({\n                name: subcategory && subcategory.$ && subcategory.$.text\n              })) : null,\n        };\n      });\n\n      feed.itunes.categories = categoriesWithSubs.map((category) => category.name);\n      feed.itunes.categoriesWithSubs = categoriesWithSubs;\n    }\n\n    if (channel['itunes:keywords']) {\n      if (channel['itunes:keywords'].length > 1) {\n        feed.itunes.keywords = channel['itunes:keywords'].map(\n          keyword => keyword && keyword.$ && keyword.$.text\n        );\n      } else {\n        let keywords = channel['itunes:keywords'][0];\n        if (keywords && typeof keywords._ === 'string') {\n          keywords = keywords._;\n        }\n\n        if (keywords && keywords.$ && keywords.$.text) {\n          feed.itunes.keywords = keywords.$.text.split(',')\n        } else if (typeof keywords === \"string\") {\n          feed.itunes.keywords = keywords.split(',');\n        }\n      }\n    }\n\n    utils.copyFromXML(channel, feed.itunes, fields.podcastFeed);\n    items.forEach((item, index) => {\n      let entry = feed.items[index];\n      entry.itunes = {};\n      utils.copyFromXML(item, entry.itunes, fields.podcastItem);\n      let image = item['itunes:image'];\n      if (image && image[0] && image[0].$ && image[0].$.href) {\n        entry.itunes.image = image[0].$.href;\n      }\n    });\n  }\n\n  setISODate(item) {\n    let date = item.pubDate || item.date;\n    if (date) {\n      try {\n        item.isoDate = new Date(date.trim()).toISOString();\n      } catch (e) {\n        // Ignore bad date format\n      }\n    }\n  }\n\n  /**\n   * Generates a pagination object where the rel attribute is the key and href attribute is the value\n   *  { self: 'self-url', first: 'first-url', ...  }\n   *\n   * @access private\n   * @param {Object} channel parsed XML\n   * @returns {Object}\n   */\n  generatePaginationLinks(channel) {\n    if (!channel['atom:link']) {\n      return {};\n    }\n    const paginationRelAttributes = ['self', 'first', 'next', 'prev', 'last'];\n\n    return channel['atom:link'].reduce((paginationLinks, link) => {\n      if (!link.$ || !paginationRelAttributes.includes(link.$.rel)) {\n        return paginationLinks;\n      }\n      paginationLinks[link.$.rel] = link.$.href;\n      return paginationLinks;\n    }, {});\n  }\n}\n\nmodule.exports = Parser;\n","const utils = module.exports = {};\nconst entities = require('entities');\nconst xml2js = require('isomorphic-xml2js');\n\nutils.stripHtml = function(str) {\n  str = str.replace(/([^\\n])<\\/?(h|br|p|ul|ol|li|blockquote|section|table|tr|div)(?:.|\\n)*?>([^\\n])/gm, '$1\\n$3')\n  str = str.replace(/<(?:.|\\n)*?>/gm, '');\n  return str;\n}\n\nutils.getSnippet = function(str) {\n  return entities.decodeHTML(utils.stripHtml(str)).trim();\n}\n\nutils.getLink = function(links, rel, fallbackIdx) {\n  if (!links) return;\n  for (let i = 0; i < links.length; ++i) {\n    if (links[i].$.rel === rel) return links[i].$.href;\n  }\n  if (links[fallbackIdx]) return links[fallbackIdx].$.href;\n}\n\nutils.getContent = function(content) {\n  if (typeof content._ === 'string') {\n    return content._;\n  } else if (typeof content === 'object') {\n    let builder = new xml2js.Builder({headless: true, explicitRoot: true, rootName: 'div', renderOpts: {pretty: false}});\n    return builder.buildObject(content);\n  } else {\n    return content;\n  }\n}\n\nutils.copyFromXML = function(xml, dest, fields) {\n  fields.forEach(function(f) {\n    let from = f;\n    let to = f;\n    let options = {};\n    if (Array.isArray(f)) {\n      from = f[0];\n      to = f[1];\n      if (f.length > 2) {\n        options = f[2];\n      }\n    }\n    const { keepArray, includeSnippet } = options;\n    if (xml[from] !== undefined){\n      dest[to] = keepArray ? xml[from] : xml[from][0];\n    }\n    if (dest[to] && typeof dest[to]._ === 'string') {\n      dest[to]=dest[to]._;\n    }\n    if (includeSnippet && dest[to] && typeof dest[to] === 'string') {\n      dest[to + 'Snippet'] = utils.getSnippet(dest[to]);\n    }\n  })\n}\n\nutils.maybePromisify = function(callback, promise) {\n  if (!callback) return promise;\n  return promise.then(\n    data => setTimeout(() => callback(null, data)),\n    err => setTimeout(() => callback(err))\n  );\n}\n\nconst DEFAULT_ENCODING = 'utf8';\nconst ENCODING_REGEX = /(encoding|charset)\\s*=\\s*(\\S+)/;\nconst SUPPORTED_ENCODINGS = ['ascii', 'utf8', 'utf16le', 'ucs2', 'base64', 'latin1', 'binary', 'hex'];\nconst ENCODING_ALIASES = {\n  'utf-8': 'utf8',\n  'iso-8859-1': 'latin1',\n}\n\nutils.getEncodingFromContentType = function(contentType) {\n  contentType = contentType || '';\n  let match = contentType.match(ENCODING_REGEX);\n  let encoding = (match || [])[2] || '';\n  encoding = encoding.toLowerCase();\n  encoding = ENCODING_ALIASES[encoding] || encoding;\n  if (!encoding || SUPPORTED_ENCODINGS.indexOf(encoding) === -1) {\n    encoding = DEFAULT_ENCODING;\n  }\n  return encoding;\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"./maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar decode_codepoint_1 = __importDefault(require(\"./decode_codepoint\"));\nvar strictEntityRe = /&(?:[a-zA-Z0-9]+|#[xX][\\da-fA-F]+|#\\d+);/g;\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\nfunction getStrictDecoder(map) {\n    var replace = getReplacer(map);\n    return function (str) { return String(str).replace(strictEntityRe, replace); };\n}\nvar sorter = function (a, b) { return (a < b ? 1 : -1); };\nexports.decodeHTML = (function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        }\n        else {\n            keys[i] += \";\";\n        }\n    }\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n    function replacer(str) {\n        if (str.substr(-1) !== \";\")\n            str += \";\";\n        return replace(str);\n    }\n    // TODO consider creating a merged map\n    return function (str) { return String(str).replace(re, replacer); };\n})();\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            var secondChar = str.charAt(2);\n            if (secondChar === \"X\" || secondChar === \"x\") {\n                return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n            }\n            return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n        }\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        return map[str.slice(1, -1)] || str;\n    };\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\"));\n// Adapted from https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nvar fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.fromCodePoint ||\n    function (codePoint) {\n        var output = \"\";\n        if (codePoint > 0xffff) {\n            codePoint -= 0x10000;\n            output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n            codePoint = 0xdc00 | (codePoint & 0x3ff);\n        }\n        output += String.fromCharCode(codePoint);\n        return output;\n    };\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        codePoint = decode_json_1.default[codePoint];\n    }\n    return fromCodePoint(codePoint);\n}\nexports.default = decodeCodePoint;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escapeUTF8 = exports.escape = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.encodeXML = void 0;\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using XML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeXML = getASCIIEncoder(inverseXML);\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\n/**\n * Encodes all entities and non-ASCII characters in the input.\n *\n * This includes characters that are valid ASCII characters in HTML documents.\n * For example `#` will be encoded as `&num;`. To get a more compact output,\n * consider using the `encodeNonAsciiHTML` function.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in HTML\n * documents using HTML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeNonAsciiHTML = getASCIIEncoder(inverseHTML);\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (inverse, name) {\n        inverse[obj[name]] = \"&\" + name + \";\";\n        return inverse;\n    }, {});\n}\nfunction getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n    for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (k.length === 1) {\n            // Add value to single array\n            single.push(\"\\\\\" + k);\n        }\n        else {\n            // Add value to multiple array\n            multiple.push(k);\n        }\n    }\n    // Add ranges to single characters.\n    single.sort();\n    for (var start = 0; start < single.length - 1; start++) {\n        // Find the end of a run of characters\n        var end = start;\n        while (end < single.length - 1 &&\n            single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n            end += 1;\n        }\n        var count = 1 + end - start;\n        // We want to replace at least three characters\n        if (count < 3)\n            continue;\n        single.splice(start, count, single[start] + \"-\" + single[end]);\n    }\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\n// /[^\\0-\\x7F]/gu\nvar reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\nvar getCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.prototype.codePointAt != null\n    ? // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        function (str) { return str.codePointAt(0); }\n    : // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n        function (c) {\n            return (c.charCodeAt(0) - 0xd800) * 0x400 +\n                c.charCodeAt(1) -\n                0xdc00 +\n                0x10000;\n        };\nfunction singleCharReplacer(c) {\n    return \"&#x\" + (c.length > 1 ? getCodePoint(c) : c.charCodeAt(0))\n        .toString(16)\n        .toUpperCase() + \";\";\n}\nfunction getInverse(inverse, re) {\n    return function (data) {\n        return data\n            .replace(re, function (name) { return inverse[name]; })\n            .replace(reNonASCII, singleCharReplacer);\n    };\n}\nvar reEscapeChars = new RegExp(xmlReplacer.source + \"|\" + reNonASCII.source, \"g\");\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using numeric hexadecimal reference (eg. `&#xfc;`).\n *\n * Have a look at `escapeUTF8` if you want a more concise output at the expense\n * of reduced transportability.\n *\n * @param data String to escape.\n */\nfunction escape(data) {\n    return data.replace(reEscapeChars, singleCharReplacer);\n}\nexports.escape = escape;\n/**\n * Encodes all characters not valid in XML documents using numeric hexadecimal\n * reference (eg. `&#xfc;`).\n *\n * Note that the output will be character-set dependent.\n *\n * @param data String to escape.\n */\nfunction escapeUTF8(data) {\n    return data.replace(xmlReplacer, singleCharReplacer);\n}\nexports.escapeUTF8 = escapeUTF8;\nfunction getASCIIEncoder(obj) {\n    return function (data) {\n        return data.replace(reEscapeChars, function (c) { return obj[c] || singleCharReplacer(c); });\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeXMLStrict = exports.decodeHTML5Strict = exports.decodeHTML4Strict = exports.decodeHTML5 = exports.decodeHTML4 = exports.decodeHTMLStrict = exports.decodeHTML = exports.decodeXML = exports.encodeHTML5 = exports.encodeHTML4 = exports.escapeUTF8 = exports.escape = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.encodeXML = exports.encode = exports.decodeStrict = exports.decode = void 0;\nvar decode_1 = require(\"./decode\");\nvar encode_1 = require(\"./encode\");\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `decodeXML` or `decodeHTML` directly.\n */\nfunction decode(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTML)(data);\n}\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `decodeHTMLStrict` or `decodeXML` directly.\n */\nfunction decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTMLStrict)(data);\n}\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `encodeHTML`, `encodeXML` or `encodeNonAsciiHTML` directly.\n */\nfunction encode(data, level) {\n    return (!level || level <= 0 ? encode_1.encodeXML : encode_1.encodeHTML)(data);\n}\nexports.encode = encode;\nvar encode_2 = require(\"./encode\");\nObject.defineProperty(exports, \"encodeXML\", { enumerable: true, get: function () { return encode_2.encodeXML; } });\nObject.defineProperty(exports, \"encodeHTML\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeNonAsciiHTML\", { enumerable: true, get: function () { return encode_2.encodeNonAsciiHTML; } });\nObject.defineProperty(exports, \"escape\", { enumerable: true, get: function () { return encode_2.escape; } });\nObject.defineProperty(exports, \"escapeUTF8\", { enumerable: true, get: function () { return encode_2.escapeUTF8; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"encodeHTML4\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeHTML5\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nvar decode_2 = require(\"./decode\");\nObject.defineProperty(exports, \"decodeXML\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\nObject.defineProperty(exports, \"decodeHTML\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTMLStrict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"decodeHTML4\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML5\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML4Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTML5Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeXMLStrict\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\n","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar defaultOptions = {\n    explicitRoot: true,\n    explicitArray: true,\n    emptyTag: '',\n    strict: true,\n    tagNameProcessors: [],\n    valueProcessors: [],\n    attrNameProcessors: [],\n    attrValueProcessors: [],\n    xmldec: { version: \"1.0\", encoding: \"UTF-8\", standalone: true }\n};\nexport var defaultCharkey = \"_\";\nexport var defaultAttrkey = \"$\";\nexport var defaultChildkey = \"$$\";\nexport function overrideDefaultsWith(userOptions) {\n    // Ideally we would just use some generic deep merge thing here but don't want to pull in dependencies\n    return __assign({}, defaultOptions, userOptions, { xmldec: __assign({}, defaultOptions.xmldec, (userOptions && userOptions.xmldec)) });\n}\n//# sourceMappingURL=options.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { overrideDefaultsWith, defaultAttrkey, defaultCharkey, defaultChildkey } from \"./options\";\nvar errorNS;\ntry {\n    errorNS = new DOMParser().parseFromString('INVALID', 'text/xml').getElementsByTagName(\"parsererror\")[0].namespaceURI;\n}\ncatch (ignored) {\n    // Most browsers will return a document containing <parsererror>, but IE will throw.\n}\nfunction throwIfError(dom) {\n    if (errorNS) {\n        var parserErrors = dom.getElementsByTagNameNS(errorNS, \"parsererror\");\n        if (parserErrors.length) {\n            throw new Error(parserErrors.item(0).innerHTML);\n        }\n    }\n}\nexport function parseString(xml, options, callback) {\n    if (typeof options === \"function\") {\n        callback = options;\n        options = undefined;\n    }\n    new Parser(options).parseString(xml, callback);\n}\nfunction isElement(node) {\n    return !!node.attributes;\n}\nvar Parser = /** @class */ (function () {\n    function Parser(opts) {\n        this.opts = overrideDefaultsWith(opts);\n    }\n    Parser.prototype.tagName = function (nodeName) {\n        return this.opts.tagNameProcessors.reduce(function (str, fn) { return fn(str); }, this.opts.normalizeTags ? nodeName.toLowerCase() : nodeName);\n    };\n    Parser.prototype.parseString = function (xml, callback) {\n        var parser = new DOMParser();\n        var obj;\n        try {\n            var dom = parser.parseFromString(xml, \"application/xml\");\n            throwIfError(dom);\n            if (this.opts.explicitRoot) {\n                var childName = this.tagName(dom.documentElement.nodeName);\n                obj = (_a = {}, _a[childName] = this.domToObject(dom.childNodes[0]), _a);\n            }\n            else {\n                obj = this.domToObject(dom.childNodes[0]);\n            }\n        }\n        catch (err) {\n            callback(err);\n            return;\n        }\n        callback(null, obj);\n        var _a;\n    };\n    ;\n    Parser.prototype.parseAttributes = function (node) {\n        if (this.opts.ignoreAttrs || !isElement(node) || !node.hasAttributes()) {\n            return undefined;\n        }\n        var namespaceKey = (this.opts.attrkey || defaultAttrkey) + \"ns\";\n        var attrsObject = {};\n        if (isElement(node) && node.hasAttributes()) {\n            for (var i = 0; i < node.attributes.length; i++) {\n                var attr = node.attributes[i];\n                var attrName = this.opts.attrNameProcessors.reduce(function (str, fn) { return fn(str); }, attr.nodeName);\n                var attrValue = this.opts.attrValueProcessors.reduce(function (str, fn) { return fn(str); }, attr.nodeValue);\n                if (this.opts.xmlns) {\n                    attrsObject[attrName] = { value: attrValue, local: attr.localName, uri: attr.namespaceURI };\n                }\n                else {\n                    attrsObject[attrName] = attrValue;\n                }\n            }\n        }\n        return attrsObject;\n    };\n    Parser.prototype.domToObject = function (node) {\n        if (node.childNodes.length === 0 && !(isElement(node) && node.hasAttributes())) {\n            return this.opts.emptyTag;\n        }\n        var attrsObject = this.parseAttributes(node);\n        var childkey = this.opts.childkey || defaultChildkey;\n        var charkey = this.opts.charkey || defaultCharkey;\n        var result = {};\n        var allTextContent = '';\n        for (var i = 0; i < node.childNodes.length; i++) {\n            var child = node.childNodes[i];\n            if (child.nodeType === Node.TEXT_NODE || child.nodeType === Node.CDATA_SECTION_NODE) {\n                var nodeValue = child.nodeValue || '';\n                var textContent = this.opts.normalize\n                    ? nodeValue.replace(/\\n[ ]+\\b/g, ' ').trim()\n                    : this.opts.trim\n                        ? nodeValue.trim()\n                        : nodeValue;\n                allTextContent += textContent;\n                var addTextChild = this.opts.explicitChildren &&\n                    this.opts.preserveChildrenOrder &&\n                    this.opts.charsAsChildren &&\n                    (this.opts.includeWhiteChars || textContent.trim());\n                if (addTextChild) {\n                    if (!result[childkey]) {\n                        result[childkey] = [];\n                    }\n                    result[childkey].push((_a = { \"#name\": \"__text__\" }, _a[charkey] = textContent, _a));\n                }\n            }\n            else {\n                var childObject = this.domToObject(child);\n                var childName = this.tagName(child.nodeName);\n                if (!result[childName]) {\n                    result[childName] = this.opts.explicitArray ? [this.domToObject(child)] : this.domToObject(child);\n                }\n                else if (Array.isArray(result[childName])) {\n                    result[childName].push(childObject);\n                }\n                else {\n                    result[childName] = [result[childName], this.domToObject(child)];\n                }\n                if (this.opts.explicitChildren && this.opts.preserveChildrenOrder) {\n                    if (!result[childkey]) {\n                        result[childkey] = [];\n                    }\n                    if (typeof childObject === \"object\") {\n                        result[childkey].push(__assign({ \"#name\": childName }, childObject));\n                    }\n                    else {\n                        result[childkey].push((_b = { \"#name\": childName }, _b[charkey] = childObject, _b));\n                    }\n                }\n            }\n        }\n        if (Object.keys(result).length === 0 && !attrsObject && !this.opts.explicitCharkey && !this.opts.charkey && !this.opts.xmlns) {\n            // Consider passing down the processed tag name instead of recomputing it\n            var childName_1 = this.tagName(node.nodeName);\n            return this.opts.valueProcessors.reduce(function (str, fn) { return fn(str, childName_1); }, allTextContent);\n        }\n        // TODO: can this logic be simplified?\n        var useExplicitChildrenObj = (this.opts.explicitChildren || this.opts.childkey) &&\n            !this.opts.preserveChildrenOrder &&\n            (Object.keys(result).length > 0 || (allTextContent && this.opts.charsAsChildren));\n        if (useExplicitChildrenObj) {\n            result = (_c = {}, _c[childkey] = result, _c);\n        }\n        if ((allTextContent && this.opts.includeWhiteChars) || allTextContent.trim()) {\n            if (useExplicitChildrenObj && this.opts.charsAsChildren) {\n                result[childkey][charkey] = allTextContent;\n            }\n            else {\n                result[charkey] = allTextContent;\n            }\n        }\n        if (this.opts.xmlns) {\n            var namespaceKey = (this.opts.attrkey || defaultAttrkey) + \"ns\";\n            result[namespaceKey] = { local: node.localName, uri: node.namespaceURI };\n        }\n        if (attrsObject) {\n            if (this.opts.mergeAttrs) {\n                if (this.opts.explicitArray) {\n                    for (var _i = 0, _d = Object.keys(attrsObject); _i < _d.length; _i++) {\n                        var key = _d[_i];\n                        result[key] = [attrsObject[key]];\n                    }\n                }\n                else {\n                    result = __assign({}, result, attrsObject);\n                }\n            }\n            else {\n                result[this.opts.attrkey || defaultAttrkey] = attrsObject;\n            }\n        }\n        return result;\n        var _a, _b, _c;\n    };\n    return Parser;\n}());\nexport { Parser };\n//# sourceMappingURL=parser.js.map","import { overrideDefaultsWith, defaultAttrkey, defaultCharkey, defaultChildkey } from \"./options\";\nvar doc = document.implementation.createDocument(null, null, null);\nvar serializer = new XMLSerializer();\nvar Builder = /** @class */ (function () {\n    function Builder(opts) {\n        this.opts = overrideDefaultsWith(opts);\n    }\n    Builder.prototype.buildAttributes = function (attrs) {\n        var result = [];\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var attr = doc.createAttribute(key);\n            attr.value = attrs[key].toString();\n            result.push(attr);\n        }\n        return result;\n    };\n    Builder.prototype.buildNode = function (obj, context) {\n        var attrkey = this.opts.attrkey || defaultAttrkey;\n        var charkey = this.opts.charkey || defaultCharkey;\n        var childkey = this.opts.childkey || defaultChildkey;\n        if (obj == undefined) {\n            obj = this.opts.emptyTag || '';\n        }\n        if (typeof obj === \"string\" || typeof obj === \"number\" || typeof obj === \"boolean\") {\n            var elem = doc.createElement(context.elementName);\n            elem.textContent = obj.toString();\n            return [elem];\n        }\n        else if (Array.isArray(obj)) {\n            var result = [];\n            for (var _i = 0, obj_1 = obj; _i < obj_1.length; _i++) {\n                var arrayElem = obj_1[_i];\n                for (var _a = 0, _b = this.buildNode(arrayElem, context); _a < _b.length; _a++) {\n                    var child = _b[_a];\n                    result.push(child);\n                }\n            }\n            return result;\n        }\n        else if (typeof obj === \"object\") {\n            var elem = doc.createElement(context.elementName);\n            for (var _c = 0, _d = Object.keys(obj); _c < _d.length; _c++) {\n                var key = _d[_c];\n                if (key === attrkey) {\n                    for (var _e = 0, _f = this.buildAttributes(obj[key]); _e < _f.length; _e++) {\n                        var attr = _f[_e];\n                        elem.attributes.setNamedItem(attr);\n                    }\n                }\n                else if (key === childkey && !(this.opts.explicitChildren && this.opts.preserveChildrenOrder)) {\n                    var children = obj[childkey];\n                    for (var _g = 0, _h = Object.keys(children); _g < _h.length; _g++) {\n                        var childElementKey = _h[_g];\n                        for (var _j = 0, _k = this.buildNode(children[childElementKey], { elementName: childElementKey }); _j < _k.length; _j++) {\n                            var child = _k[_j];\n                            elem.appendChild(child);\n                        }\n                    }\n                }\n                else if (key === charkey) {\n                    elem.appendChild(document.createTextNode(obj[key]));\n                }\n                else {\n                    for (var _l = 0, _m = this.buildNode(obj[key], { elementName: key }); _l < _m.length; _l++) {\n                        var child = _m[_l];\n                        elem.appendChild(child);\n                    }\n                }\n            }\n            return [elem];\n        }\n        else {\n            throw new Error(\"Illegal value passed to buildObject: \" + obj);\n        }\n    };\n    Builder.prototype.buildObject = function (obj) {\n        var rootName = this.opts.rootName || \"root\";\n        if (Array.isArray(obj)) {\n            var mergedObj = {};\n            for (var _i = 0, obj_2 = obj; _i < obj_2.length; _i++) {\n                var arrayElem = obj_2[_i];\n                for (var _a = 0, _b = Object.keys(arrayElem); _a < _b.length; _a++) {\n                    var key = _b[_a];\n                    if (!mergedObj[key]) {\n                        mergedObj[key] = [];\n                    }\n                    mergedObj[key].push(arrayElem[key]);\n                }\n            }\n            obj = mergedObj;\n        }\n        var keys = Object.keys(obj);\n        var dom;\n        if (keys.length <= 1 && !this.opts.rootName && this.opts.explicitRoot) {\n            dom = this.buildNode(obj[keys[0]] || '', { elementName: keys[0] || rootName })[0];\n        }\n        else {\n            dom = this.buildNode(obj, { elementName: rootName })[0];\n        }\n        var xmlString = serializer.serializeToString(dom);\n        var xmldec = this.opts.xmldec;\n        if (xmldec && !this.opts.headless) {\n            var declaration = \"<?xml version=\\\"\" + xmldec.version + \"\\\" encoding=\\\"\" + xmldec.encoding + \"\\\" standalone=\\\"\" + (xmldec.standalone ? \"yes\" : \"no\") + \"\\\"?>\";\n            xmlString = declaration + xmlString;\n        }\n        return xmlString;\n    };\n    return Builder;\n}());\nexport { Builder };\n//# sourceMappingURL=builder.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(290);\n"],"names":["root","factory","exports","module","define","amd","this","fields","feed","item","includeSnippet","mapItunesField","f","podcastFeed","map","podcastItem","_typeof","o","Symbol","iterator","constructor","prototype","_defineProperties","e","r","t","length","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","i","toPrimitive","call","TypeError","String","_toPrimitive","http","require","https","xml2js","url","utils","DEFAULT_HEADERS","Parser","options","arguments","undefined","a","n","_classCallCheck","headers","customFields","requestOptions","maxRedirects","timeout","xmlParser","etags","lastModified","value","xml","callback","_this","prom","Promise","resolve","reject","parseString","err","result","Error","buildAtomFeed","rss","$","version","match","buildRSS2","buildRSS1","buildRSS0_9","defaultRSS","maybePromisify","feedUrl","_this2","redirectCount","get","indexOf","urlParts","parse","assign","requestOpts","req","res","statusCode","newLocation","parseURL","then","encoding","getEncodingFromContentType","setEncoding","on","chunk","setTimeout","destroy","data","clearTimeout","xmlObj","_this3","items","copyFromXML","link","getLink","title","_","updated","lastBuildDate","entry","parseItemAtom","published","pubDate","Date","toISOString","author","name","content","getContent","contentSnippet","getSnippet","summary","id","setISODate","channel","buildRSS","decorateItunes","_this4","feedFields","concat","itemFields","href","image","width","height","paginationLinks","generatePaginationLinks","keys","xmlItem","parseItemRss","_xmlItem$mediaConten","_xmlItem$mediaConten2","enclosure","description","guid","category","categories","mediaContent","itunes","owner","email","categoriesWithSubs","text","subs","subcategory","keywords","keyword","split","forEach","index","date","isoDate","trim","paginationRelAttributes","reduce","includes","rel","entities","stripHtml","str","replace","decodeHTML","links","fallbackIdx","Builder","headless","explicitRoot","rootName","renderOpts","pretty","buildObject","dest","from","to","Array","isArray","_options","keepArray","promise","ENCODING_REGEX","SUPPORTED_ENCODINGS","ENCODING_ALIASES","contentType","toLowerCase","__importDefault","mod","__esModule","decodeHTMLStrict","decodeXML","entities_json_1","legacy_json_1","xml_json_1","decode_codepoint_1","strictEntityRe","getStrictDecoder","getReplacer","sorter","b","charAt","secondChar","parseInt","substr","slice","legacy","sort","j","re","RegExp","join","replacer","decode_json_1","fromCodePoint","codePoint","output","fromCharCode","escapeUTF8","escape","encodeNonAsciiHTML","encodeHTML","encodeXML","inverseXML","getInverseObj","xmlReplacer","getInverseReplacer","getASCIIEncoder","inverse","inverseHTML","htmlReplacer","obj","single","multiple","_i","_a","k","push","start","end","charCodeAt","count","splice","unshift","reNonASCII","singleCharReplacer","getCodePoint","codePointAt","c","toString","toUpperCase","reEscapeChars","source","decodeXMLStrict","decodeHTML5Strict","decodeHTML4Strict","decodeHTML5","decodeHTML4","encodeHTML5","encodeHTML4","encode","decodeStrict","decode","decode_1","encode_1","level","encode_2","decode_2","__assign","s","p","hasOwnProperty","defaultOptions","explicitArray","emptyTag","strict","tagNameProcessors","valueProcessors","attrNameProcessors","attrValueProcessors","xmldec","standalone","overrideDefaultsWith","userOptions","errorNS","DOMParser","parseFromString","getElementsByTagName","namespaceURI","ignored","isElement","node","attributes","opts","tagName","nodeName","fn","normalizeTags","parser","dom","parserErrors","getElementsByTagNameNS","innerHTML","throwIfError","childName","documentElement","domToObject","childNodes","parseAttributes","ignoreAttrs","hasAttributes","attrkey","attrsObject","attr","attrName","attrValue","nodeValue","xmlns","local","localName","uri","childkey","charkey","allTextContent","child","nodeType","Node","TEXT_NODE","CDATA_SECTION_NODE","textContent","normalize","explicitChildren","preserveChildrenOrder","charsAsChildren","includeWhiteChars","childObject","_b","explicitCharkey","childName_1","_c","useExplicitChildrenObj","mergeAttrs","_d","doc","document","implementation","createDocument","serializer","XMLSerializer","buildAttributes","attrs","createAttribute","buildNode","context","elem","createElement","elementName","obj_1","arrayElem","_e","_f","setNamedItem","appendChild","createTextNode","_l","_m","children","_g","_h","childElementKey","_j","_k","mergedObj","obj_2","xmlString","serializeToString","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","prop","toStringTag"],"sourceRoot":""}